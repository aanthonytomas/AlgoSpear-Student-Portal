import{d as c,_ as u,c as n,a as i,j as d,F as f,h,o as l,n as p}from"./index-BI8-wN6e.js";const b=c({emits:["view"],props:{title:{default:"Untitled",type:String},articlesRead:{type:Array,default:()=>[]},list:{type:Array,default:()=>[]},unlock:{default:0,type:Number},btn_disabled:{default:!0,type:Boolean}},data(){return{ongoing:!1}},methods:{viewContent(t){var e;if(this.ongoing){(e=this.$toast)==null||e.warning("Please complete the ongoing reading first.");return}this.ongoing=!0,this.$emit("view",t)},isArticleRead(t){return t?this.articlesRead.some(e=>e.topic_refid===t):!1},isButtonDisabled(t){var e,a;if(this.ongoing&&!this.isArticleRead((e=this.list[t])==null?void 0:e.topic_refid))return!0;if(t===0)return!1;for(let r=0;r<t;r++)if(!this.isArticleRead((a=this.list[r])==null?void 0:a.topic_refid))return!0;return!1}},watch:{unlock:function(t){t>0&&(this.ongoing=!1)}},created(){Array.isArray(this.list)||console.warn('The "list" prop should be an array')}}),_={class:"table table-striped",style:{width:"100%"}},y={class:"bg-dark"},g={colspan:"2"},k={style:{width:"90px"}},w=["onClick","disabled"],A={key:0,class:"bi bi-lock-fill me-1"},C={key:1,class:"bi bi-check-circle-fill me-1"},R={key:2,class:"bi bi-unlock-fill me-1"};function B(t,e,a,r,$,v){return l(),n("div",null,[i("table",_,[i("thead",y,[i("tr",null,[i("th",g,d(t.title),1)])]),i("tbody",null,[(l(!0),n(f,null,h(t.list,(s,o)=>(l(),n("tr",{key:o},[i("td",null,[i("small",null,d(s==null?void 0:s.name),1)]),i("td",k,[i("button",{class:p(["btn btn-sm",t.isArticleRead(s==null?void 0:s.topic_refid)?"btn-success":"btn-primary"]),onClick:m=>t.viewContent(s),disabled:t.isButtonDisabled(o)},[t.isButtonDisabled(o)?(l(),n("i",A)):t.isArticleRead(s==null?void 0:s.topic_refid)?(l(),n("i",C)):(l(),n("i",R)),e[0]||(e[0]=i("span",null,"Read",-1))],10,w)])]))),128))])])])}const F=u(b,[["render",B]]);export{F as C};
