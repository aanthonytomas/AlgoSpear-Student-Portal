import{d as k,p as b,t as m,q as f,S as C,_ as P,c as l,e as r,a as i,f as n,b as B,o as d}from"./index-DvlkE_cf.js";import{S as H,f as V,s as $}from"./SectionArticleHeader-DrMefAP2.js";import{P as R,a as u,j as c}from"./ProgressBar-BbTySam7.js";import{r as g}from"./randomNumber-C27Mv2PT.js";import{S as L,a as D}from"./SectionFooter-TeUX6E9y.js";import{C as T}from"./Courses-BnC6e1Gt.js";import{E}from"./ElemProgressbar-Br5UniB-.js";import"./config-Cif4XynF.js";import"./fetchSingle-ri2_cx6-.js";import"./format-CV38ky4f.js";import"./count-Bbc1EGQ3.js";import"./insertGetID-BzXFYlxR.js";import"./timer-OaxQmgbO.js";import"./fetchAll-DAI-j9T7.js";const F=k({components:{SectionArticleHeader:H,ElemProgressbar:E,CourseList:T,SectionFooter:D,SectionHeader:L,ProgressBar:R},data(){return{reset:0,reset_unlock:0,loading:!1,user:{},list:[],article:{},articles_refid:{},articleRed:[],progress:0,completionAlertShown:!1}},methods:{async onView(t){this.loading=!0,await V(t==null?void 0:t.topic_refid).then(async e=>{this.loading=!1,e.length>0?($(),this.article=e[0],this.reset=g()):this.$toast.warning("No article found")})},async isArticleGroupDone(){await this.loadProgress(),this.reset_unlock=g(),this.progress===100&&!this.completionAlertShown&&this.showCompletionAlert()},async loadProgress(){var e;await u((e=this.user)==null?void 0:e.user_refid).then(async o=>{this.articleRed=o||[]});let t=0;await c().then(async o=>{o.forEach(a=>{this.articleRed.some(s=>(a==null?void 0:a.topic_refid)==(s==null?void 0:s.topic_refid))&&t++}),this.progress=Math.floor(t/o.length*100),this.progress===100&&!this.completionAlertShown&&this.showCompletionAlert()})},showCompletionAlert(){this.completionAlertShown=!0,C.fire({title:"Congratulations!",text:"You've unlocked the 'Data Structures' and 'Algorithms' topics. Ready to dive in and explore further?",icon:"success",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"Yes, let's go!",cancelButtonText:"No, thanks!"}).then(t=>{t.isConfirmed&&this.$router.push("/readings")})}},async mounted(){this.loading=!0;const t=await b();t!=null&&t.user_refid?(this.user=t,await u(t==null?void 0:t.user_refid).then(async e=>{this.articleRed=e||[]}),await c().then(async e=>{var o,a;this.list=m(e),this.articles_refid=(o=this.list)==null?void 0:o.map(s=>s==null?void 0:s.topic_refid),Array.isArray(this.articleRed)&&(this.articleRed=(a=this.articleRed)==null?void 0:a.filter(s=>this.articles_refid.includes(s==null?void 0:s.topic_refid))),await this.loadProgress(),this.loading=!1,f("Data:",this.$data)})):(this.$toast.warning("Login to log reading history."),await c().then(async e=>{this.list=m(e),this.loading=!1,f("Data:",this.$data)}))}}),N={class:"main"},M={class:"container mt-5 py-5"},x={class:"row mt-5"},G={class:"col-lg-4 col-md-5 col-12 mb-4"},j={class:"sticky-sidebar"},I={class:"col-lg-8 col-md-7 col-12"},O={class:"text-dark mt-5"},Y=["innerHTML"],q={key:1,class:"p-4"};function z(t,e,o,a,s,U){var h,p;const _=n("SectionHeader"),w=n("ElemProgressbar"),v=n("ProgressBar"),y=n("CourseList"),S=n("SectionArticleHeader"),A=n("SectionFooter");return d(),l("div",null,[r(_),i("main",N,[i("div",M,[e[2]||(e[2]=i("h1",{class:"text-center mt-5"},"Fundamental of Programming",-1)),i("div",x,[i("div",G,[i("div",j,[r(w,{loading:t.loading},null,8,["loading"]),r(v,{height:40,percentage:t.progress},null,8,["percentage"]),r(y,{title:"Fundamental of Programming",btn_disabled:!1,list:t.list,articlesRead:t.articleRed,unlock:t.reset_unlock,onView:t.onView},null,8,["list","articlesRead","unlock","onView"])])]),i("div",I,[r(S,{article:t.article,user:t.user,reset:t.reset,onCompleted:e[0]||(e[0]=J=>t.isArticleGroupDone())},null,8,["article","user","reset"]),i("div",O,[(h=t.article)!=null&&h.content?(d(),l("div",{key:0,innerHTML:(p=t.article)==null?void 0:p.content},null,8,Y)):(d(),l("div",q,e[1]||(e[1]=[B('<div class="card text-center" data-v-95398efd><div class="card-body" data-v-95398efd><h3 class="p-4 text-muted" id="selectreading" data-v-95398efd> Select reading material to start </h3><div class="d-flex justify-content-center pb-5" data-v-95398efd><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="#a9a0a0" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16" data-v-95398efd><path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5z" data-v-95398efd></path></svg></div></div></div>',1)])))])])])])]),r(A)])}const dt=P(F,[["render",z],["__scopeId","data-v-95398efd"]]);export{dt as default};
