import{d as H,l as D,S as f,p as d,t as p,_ as L,c as n,e as o,a,f as r,k as _,b as R,o as l}from"./index-D7cRCgpj.js";import{S as T,f as w,s as y}from"./SectionArticleHeader-D82-ycnd.js";import{a as $,i as S}from"./check-2PA5G-d2.js";import{r as v}from"./delete-Deyv4-rK.js";import{P as B,b as C,c as N,a as G}from"./ProgressBar-45K4eqnU.js";import{r as c}from"./randomNumber-C27Mv2PT.js";import{S as E,a as k}from"./SectionFooter-upHGNFKG.js";import{C as I}from"./Courses--5a67tDs.js";import{E as M}from"./ElemProgressbar-DxHRhbjo.js";import"./config-Cif4XynF.js";import"./fetchSingle-C22NpKvN.js";import"./format-CV38ky4f.js";import"./count-B2fEAVCc.js";import"./insertGetID-BAx1ISz1.js";import"./timer-OaxQmgbO.js";import"./url-HQ3Cey_0.js";import"./fetchAll-BSL-E5rQ.js";const F=H({components:{SectionArticleHeader:T,ElemProgressbar:M,CourseList:I,SectionFooter:k,SectionHeader:E,ProgressBar:B},setup(){return{randomNumbers:c}},data(){return{reset:0,reset_unlock:0,timeDisplay:{},timeMax:0,loading:!1,user:{},article:{},list_sorting:[],list_search:[],list_search_locked:!0,articleRed:[],sortingProgress:0,searchingProgress:0,topic:this.$route.params.topic}},methods:{async resetSortingReadingTime(){var t;await v({user_refid:(t=this.user)==null?void 0:t.user_refid,group_code:"SORTING"}).then(async i=>{i!=null&&i.success&&window.location.reload()})},async resetSearchReadingTime(){var t;await v({user_refid:(t=this.user)==null?void 0:t.user_refid,group_code:"SEARCH"}).then(async i=>{i!=null&&i.success&&window.location.reload()})},async onViewSorting(t){this.loading=!0,await w(t==null?void 0:t.topic_refid).then(async i=>{this.loading=!1,i.length>0?(y(),this.article=i[0],this.reset=c()):this.$toast.warning("No article found")})},async onViewSearching(t){var i;await S((i=this.user)==null?void 0:i.user_refid,"SORTING").then(async s=>{d("Check:",p(s)),s!=null&&s.success?(this.loading=!0,await w(t==null?void 0:t.topic_refid).then(async e=>{this.loading=!1,e.length>0?(y(),this.article=e[0],this.reset=c()):this.$toast.warning("No article found")})):f.fire({title:"Invalid Action",html:s==null?void 0:s.message,icon:"info"})})},async isArticleGroupDoneLocal(){var t;await this.loadProgress(),await S((t=this.user)==null?void 0:t.user_refid,"SORTING").then(async i=>{d("Done Sorting:",p(i)),this.list_search_locked=!(i!=null&&i.success),this.reset_unlock=c()})},async loadProgress(){var t;if(await G((t=this.user)==null?void 0:t.user_refid).then(async i=>{this.articleRed=i}),this.topic=="sorting"){let i=0;this.list_sorting.forEach(s=>{this.articleRed.some(e=>(s==null?void 0:s.topic_refid)==(e==null?void 0:e.topic_refid))&&i++}),this.sortingProgress=Math.floor(i/this.list_sorting.length*100)}else if(this.topic=="searching"){let i=0;this.list_search.forEach(s=>{this.articleRed.some(e=>(s==null?void 0:s.topic_refid)==(e==null?void 0:e.topic_refid))&&i++}),this.searchingProgress=Math.floor(i/this.list_search.length*100)}}},async mounted(){var i;this.loading=!0;const t=await D();t!=null&&t.user_refid?(this.user=t,await $((i=this.user)==null?void 0:i.user_refid).then(async s=>{s!=null&&s.success||(this.$router.push("/readings"),f.fire({title:"Invalid Action",html:s==null?void 0:s.message,icon:"info"}))})):this.$toast.warning("Login to log reading history."),this.topic=="sorting"?await C().then(async s=>{this.list_sorting=s}):this.topic=="searching"&&await N().then(async s=>{this.list_search=s}),await this.loadProgress(),await this.isArticleGroupDoneLocal().then(async()=>{this.loading=!1,d("Data:",this.$data)})}}),O={class:"main"},j={class:"container mt-5 py-5"},z={class:"row mt-5"},U={class:"col-lg-4 col-md-5 col-12 mb-4"},q={key:0},J={key:1},K={class:"col-lg-8 col-md-7 col-12"},Q={class:"text-dark mt-5"},W=["innerHTML"],X={key:1,class:"p-md-5 p-3 m-md-5 m-3"};function Y(t,i,s,e,Z,x){var u,m;const b=r("SectionHeader"),A=r("ElemProgressbar"),h=r("ProgressBar"),g=r("CourseList"),P=r("SectionArticleHeader"),V=r("SectionFooter");return l(),n("div",null,[o(b),a("main",O,[a("div",j,[i[2]||(i[2]=a("h1",{class:"text-center mt-5"},"Algorithms",-1)),a("div",z,[a("div",U,[o(A,{loading:t.loading},null,8,["loading"]),t.topic=="sorting"?(l(),n("div",q,[o(h,{height:40,percentage:t.sortingProgress},null,8,["percentage"]),o(g,{title:"Sorting",unlock:t.reset_unlock,btn_disabled:!1,list:t.list_sorting,articlesRead:t.articleRed,onView:t.onViewSorting},null,8,["unlock","list","articlesRead","onView"])])):_("",!0),t.topic=="searching"?(l(),n("div",J,[o(h,{height:40,percentage:t.searchingProgress},null,8,["percentage"]),o(g,{title:"Searching",unlock:t.reset_unlock,btn_disabled:t.list_search_locked,list:t.list_search,articlesRead:t.articleRed,onView:t.onViewSearching},null,8,["unlock","btn_disabled","list","articlesRead","onView"])])):_("",!0)]),a("div",K,[o(P,{article:t.article,user:t.user,reset:t.reset,onCompleted:i[0]||(i[0]=tt=>t.isArticleGroupDoneLocal())},null,8,["article","user","reset"]),a("div",Q,[(u=t.article)!=null&&u.content?(l(),n("div",{key:0,innerHTML:(m=t.article)==null?void 0:m.content},null,8,W)):(l(),n("div",X,i[1]||(i[1]=[R('<div class="card"><div class="card-body"><h3 class="text-center p-md-5 p-3" style="color:#a9a0a0;" id="selectreading">Select reading material to start</h3><div class="d-flex justify-content-center pb-md-5 pb-3"><svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="#a9a0a0" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5z"></path></svg></div></div></div>',1)])))])])])])]),o(V)])}const wt=L(F,[["render",Y]]);export{wt as default};
