import{d as H,l as $,S as _,p as d,t as w,_ as C,c,e as a,a as o,f as n,b as D,o as g}from"./index-D7cRCgpj.js";import{S as L,f as y,s as S}from"./SectionArticleHeader-D82-ycnd.js";import{a as B,i as b}from"./check-2PA5G-d2.js";import{r as v}from"./delete-Deyv4-rK.js";import{P as G,b as N,c as R,a as E}from"./ProgressBar-45K4eqnU.js";import{r as l}from"./randomNumber-C27Mv2PT.js";import{S as k,a as I}from"./SectionFooter-upHGNFKG.js";import{C as M}from"./Courses--5a67tDs.js";import{E as F}from"./ElemProgressbar-DxHRhbjo.js";import"./config-Cif4XynF.js";import"./fetchSingle-C22NpKvN.js";import"./format-CV38ky4f.js";import"./count-B2fEAVCc.js";import"./insertGetID-BAx1ISz1.js";import"./timer-OaxQmgbO.js";import"./url-HQ3Cey_0.js";import"./fetchAll-BSL-E5rQ.js";const O=H({components:{SectionArticleHeader:L,ElemProgressbar:F,CourseList:M,SectionFooter:I,SectionHeader:k,ProgressBar:G},setup(){return{randomNumbers:l}},data(){return{reset:0,reset_unlock:0,timeDisplay:{},timeMax:0,loading:!1,user:{},article:{},list_sorting:[],list_search:[],list_search_locked:!0,articleRed:[],sortingProgress:0,searchingProgress:0}},methods:{async resetSortingReadingTime(){var t;await v({user_refid:(t=this.user)==null?void 0:t.user_refid,group_code:"SORTING"}).then(async s=>{s!=null&&s.success&&window.location.reload()})},async resetSearchReadingTime(){var t;await v({user_refid:(t=this.user)==null?void 0:t.user_refid,group_code:"SEARCH"}).then(async s=>{s!=null&&s.success&&window.location.reload()})},async onViewSorting(t){this.loading=!0,await y(t==null?void 0:t.topic_refid).then(async s=>{this.loading=!1,s.length>0?(S(),this.article=s[0],this.reset=l()):this.$toast.warning("No article found")})},async onViewSearching(t){var s;await b((s=this.user)==null?void 0:s.user_refid,"SORTING").then(async i=>{d("Check:",w(i)),i!=null&&i.success?(this.loading=!0,await y(t==null?void 0:t.topic_refid).then(async e=>{this.loading=!1,e.length>0?(S(),this.article=e[0],this.reset=l()):this.$toast.warning("No article found")})):_.fire({title:"Invalid Action",html:i==null?void 0:i.message,icon:"info"})})},async isArticleGroupDoneLocal(){var t;await this.loadProgress(),await b((t=this.user)==null?void 0:t.user_refid,"SORTING").then(async s=>{d("Done Sorting:",w(s)),this.list_search_locked=!(s!=null&&s.success),this.reset_unlock=l()})},async loadProgress(){var i;await E((i=this.user)==null?void 0:i.user_refid).then(async e=>{this.articleRed=e});let t=0;this.list_sorting.forEach(e=>{this.articleRed.some(r=>(e==null?void 0:e.topic_refid)==(r==null?void 0:r.topic_refid))&&t++}),this.sortingProgress=Math.floor(t/this.list_sorting.length*100);let s=0;this.list_search.forEach(e=>{this.articleRed.some(r=>(e==null?void 0:e.topic_refid)==(r==null?void 0:r.topic_refid))&&s++}),this.searchingProgress=Math.floor(s/this.list_search.length*100)}},async mounted(){var s;this.loading=!0;const t=await $();t!=null&&t.user_refid?(this.user=t,await B((s=this.user)==null?void 0:s.user_refid).then(async i=>{i!=null&&i.success||(this.$router.push("/readings"),_.fire({title:"Invalid Action",html:i==null?void 0:i.message,icon:"info"}))})):this.$toast.warning("Login to log reading history."),await N().then(async i=>{this.list_sorting=i,await R().then(async e=>{this.list_search=e,await this.loadProgress(),await this.isArticleGroupDoneLocal().then(async()=>{this.loading=!1,d("Data:",this.$data)})})})}}),j={class:"main"},z={class:"container mt-5 py-5"},U={class:"row mt-5"},q={class:"col-4"},J={class:"col-8"},K={class:"text-dark mt-5"},Q=["innerHTML"],W={key:1,class:"p-5 m-5"};function X(t,s,i,e,r,Y){var m,f;const A=n("SectionHeader"),P=n("ElemProgressbar"),h=n("ProgressBar"),u=n("CourseList"),V=n("SectionArticleHeader"),T=n("SectionFooter");return g(),c("div",null,[a(A),o("main",j,[o("div",z,[s[6]||(s[6]=o("h1",{class:"text-center mt-5"},"Algorithms",-1)),o("div",U,[o("div",q,[a(P,{loading:t.loading},null,8,["loading"]),a(h,{height:40,percentage:t.sortingProgress},null,8,["percentage"]),a(u,{title:"Sorting",unlock:t.reset_unlock,btn_disabled:!1,list:t.list_sorting,onView:t.onViewSorting},null,8,["unlock","list","onView"]),o("button",{class:"btn btn-danger btn-sm py-0 py-0 mb-4",onClick:s[0]||(s[0]=p=>t.resetSortingReadingTime())},s[3]||(s[3]=[o("small",null,"Reset reading time",-1)])),a(h,{height:40,percentage:t.searchingProgress},null,8,["percentage"]),a(u,{title:"Searching",unlock:t.reset_unlock,btn_disabled:t.list_search_locked,list:t.list_search,onView:t.onViewSearching},null,8,["unlock","btn_disabled","list","onView"]),o("button",{class:"btn btn-danger btn-sm py-0 py-0 mb-4",onClick:s[1]||(s[1]=p=>t.resetSearchReadingTime())},s[4]||(s[4]=[o("small",null,"Reset reading time",-1)]))]),o("div",J,[a(V,{article:t.article,user:t.user,reset:t.reset,onCompleted:s[2]||(s[2]=p=>t.isArticleGroupDoneLocal())},null,8,["article","user","reset"]),o("div",K,[(m=t.article)!=null&&m.content?(g(),c("div",{key:0,innerHTML:(f=t.article)==null?void 0:f.content},null,8,Q)):(g(),c("div",W,s[5]||(s[5]=[D('<div class="card"><div class="card-body"><h3 class="text-center p-5" id="selectreading" style="color:#a9a0a0;">Select reading material to start</h3><div class="d-flex justify-content-center pb-5"><svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="#a9a0a0" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5z"></path></svg></div></div></div>',1)])))])])])])]),a(T)])}const ft=C(O,[["render",X]]);export{ft as default};
