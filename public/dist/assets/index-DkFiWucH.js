import{S as V,a as v}from"./SectionFooter-DD-S-wB-.js";import{S as I,f as C}from"./swiper-vue-i4w8B2bp.js";import{d as A,q as _,t as f,S as F,i as L,_ as $,c as o,e as y,a as t,f as g,F as w,h as b,j as u,o as n,k as N,n as T,g as U}from"./index-BI8-wN6e.js";import{q as j}from"./url-Cahlg-je.js";import"./config-Cif4XynF.js";const q=A({name:"VideosPage",components:{SectionFooter:v,SectionHeader:V,Swiper:C,SwiperSlide:I},data(){return{swiper:{},videos:{},video_code:"Ck0Zjh91D4s?si=17rChn_QnalHDkAw",video_title:"",video_description:""}},computed:{sortedVideoGroups(){const e=JSON.parse(JSON.stringify(this.videos));return e&&Object.keys(e).length?Object.keys(e).sort((s,a)=>{var p,l,c,i;const r=((l=(p=e[s])==null?void 0:p.header)==null?void 0:l.dataid)||1/0,d=((i=(c=e[a])==null?void 0:c.header)==null?void 0:i.dataid)||1/0;return r-d}).reduce((s,a)=>(s[a]=e[a],s),{}):e}},methods:{sortVideos(e){return e.sort((s,a)=>{const r=(s==null?void 0:s.dataid)||1/0,d=(a==null?void 0:a.dataid)||1/0;return r-d})},onSwiper(e){this.swiper=e},onChangeVideo(e){this.swiper.slideTo(e)},async onFetchVideos(){await j({url:"util_quiz/videoTutorials"}).then(async e=>{this.videos=e})},isUserAuthenticated(){return L()},onWatchVideo(e){this.isUserAuthenticated()?(this.video_code=e==null?void 0:e.video_code,this.video_title=e==null?void 0:e.title,this.video_description=e==null?void 0:e.description,_("Video:",f(e))):F.fire({title:"Sign In Required",html:"Please Login first",icon:"warning"}).then(async()=>{this.$router.replace("/login")})},receiveMessage(e){console.log(e.origin),e.origin==="http://localhost:5173"&&console.log("Received message from iframe:",e.data)},addIframePlayListener(){window.addEventListener("message",this.receiveMessage)}},async mounted(){await this.onFetchVideos().then(async()=>{_("Videos:",f(this.$data))}),this.addIframePlayListener()},beforeUnmount(){window.removeEventListener("message",this.receiveMessage)}}),B={class:"main"},x={class:"container mt-5 py-5"},D={class:"row mt-5"},H={class:"col-4"},O={class:"card-header text-white",style:{"background-color":"rgb(22 17 102)"}},P={class:"card-body p-0 m-0"},R={key:0,class:"alert alert-warning m-3"},E={class:"table table-striped"},G={class:"align-middle w-75"},M={class:"text-end"},W=["onClick"],z={key:0,class:"bi bi-lock-fill me-1"},J={key:1,class:"bi bi-unlock-fill me-1"},Q={class:"col-8"},Z={class:"video-container position-sticky top-0 bg-white py-3"},K={class:"ratio ratio-16x9 mb-3"},X=["src"],Y={key:1,class:"d-flex align-items-center justify-content-center border"};function ee(e,s,a,r,d,p){const l=g("SectionHeader"),c=g("SectionFooter");return n(),o("div",null,[y(l),t("main",B,[t("div",x,[t("div",D,[t("div",H,[s[2]||(s[2]=t("div",{style:{padding:"47px"}},null,-1)),(n(!0),o(w,null,b(e.sortedVideoGroups,(i,k)=>{var m;return n(),o("div",{class:"card mb-4",key:k},[t("div",O,u((m=i==null?void 0:i.header)==null?void 0:m.name),1),t("div",P,[(i==null?void 0:i.videos.length)==0?(n(),o("div",R,s[0]||(s[0]=[t("p",null,"This category has no uploaded video yet. Try again later.",-1)]))):N("",!0),t("table",E,[t("tbody",null,[(n(!0),o(w,null,b(e.sortVideos(i==null?void 0:i.videos),(h,S)=>(n(),o("tr",{key:S},[t("td",G,[t("small",null,u(h==null?void 0:h.title),1)]),t("td",M,[t("button",{class:T(["btn btn-sm",[e.isUserAuthenticated()?"btn-primary":"btn-secondary"]]),onClick:te=>e.onWatchVideo(h)},[e.isUserAuthenticated()?(n(),o("i",J)):(n(),o("i",z)),s[1]||(s[1]=U(" Watch "))],10,W)])]))),128))])])])])}),128))]),t("div",Q,[t("div",Z,[s[4]||(s[4]=t("h1",{class:"text-center fw-bold display-6"},"Video Tutorials",-1)),s[5]||(s[5]=t("p",{class:"text-center"},"For more interactive learning we provide videos as further references for each topic",-1)),t("div",K,[e.video_code?(n(),o("iframe",{key:0,src:`https://www.youtube.com/embed/${e.video_code}`,ref:"iframe",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,X)):(n(),o("div",Y,s[3]||(s[3]=[t("p",{class:"text-center"},"Select a video to watch",-1)])))]),t("h3",null,u(e.video_title),1),t("p",null,u(e.video_description),1)])])])])]),y(c)])}const re=$(q,[["render",ee],["__scopeId","data-v-94071b5f"]]);export{re as default};
