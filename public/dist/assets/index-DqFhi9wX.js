import{d as V,l as v,S as g,t as f,p as y,_ as E,c as d,e as r,a as c,f as p,k as T,b as D,o as h}from"./index-D7cRCgpj.js";import{S as R,f as A,s as S}from"./SectionArticleHeader-D82-ycnd.js";import{a as q,i as u}from"./check-2PA5G-d2.js";import{r as k}from"./delete-Deyv4-rK.js";import{P as $,d as B,e as N,g as G,h as H,i as I,a as M}from"./ProgressBar-45K4eqnU.js";import{r as m}from"./randomNumber-C27Mv2PT.js";import{S as Q,a as Y}from"./SectionFooter-upHGNFKG.js";import{C as U}from"./Courses--5a67tDs.js";import{E as K}from"./ElemProgressbar-DxHRhbjo.js";import"./config-Cif4XynF.js";import"./fetchSingle-C22NpKvN.js";import"./format-CV38ky4f.js";import"./count-B2fEAVCc.js";import"./insertGetID-BAx1ISz1.js";import"./timer-OaxQmgbO.js";import"./url-HQ3Cey_0.js";import"./fetchAll-BSL-E5rQ.js";const F=V({components:{SectionArticleHeader:R,ElemProgressbar:K,CourseList:U,SectionFooter:Y,SectionHeader:Q,ProgressBar:$},data(){return{topic:this.$route.params.topic,reset:0,reset_unlock:0,timeDisplay:{},timeMax:0,loading:!1,user:{},array_list:[],linked_list:[],linked_list_locked:!0,list_stacks:[],list_stacks_locked:!0,list_queues:[],list_queues_locked:!0,list_graphs:[],list_graphs_locked:!0,article:{},articleRed:[],arrayProgressPercentage:0,linkListProgressPercentage:0,stacksProgressPercentage:0,queuesProgressPercentage:0,graphsProgressPercentage:0,arrayCompletionAlertShown:!1,linkListCompletionAlertShown:!1,stacksCompletionAlertShown:!1,queuesCompletionAlertShown:!1,graphsCompletionAlertShown:!1}},methods:{async resetArrayReadingTime(){var e;await k({user_refid:(e=this.user)==null?void 0:e.user_refid,group_code:"ARRAY"}).then(async t=>{t!=null&&t.success&&window.location.reload()})},async resetLinkedListReadingTime(){var e;await k({user_refid:(e=this.user)==null?void 0:e.user_refid,group_code:"LINKED_LIST"}).then(async t=>{t!=null&&t.success&&window.location.reload()})},async resetStackReadingTime(){var e;await k({user_refid:(e=this.user)==null?void 0:e.user_refid,group_code:"STACKS"}).then(async t=>{t!=null&&t.success&&window.location.reload()})},async resetQueuesReadingTime(){var e;await k({user_refid:(e=this.user)==null?void 0:e.user_refid,group_code:"QUEUES"}).then(async t=>{t!=null&&t.success&&window.location.reload()})},async resetGraphReadingTime(){var e;await k({user_refid:(e=this.user)==null?void 0:e.user_refid,group_code:"GRAPHS"}).then(async t=>{t!=null&&t.success&&window.location.reload()})},async onView(e){this.loading=!0,await A(e==null?void 0:e.topic_refid).then(async t=>{this.loading=!1,t.length>0?(S(),this.article=t[0],this.reset=m()):this.$toast.warning("No article found")})},async onViewLinkList(e){var t;await u((t=this.user)==null?void 0:t.user_refid,"ARRAYS").then(async s=>{y("Check:",f(s)),s!=null&&s.success?(this.loading=!0,await A(e==null?void 0:e.topic_refid).then(async a=>{this.loading=!1,a.length>0?(S(),this.article=a[0],this.reset=m()):this.$toast.warning("No article found")})):g.fire({title:"Invalid Action",html:s==null?void 0:s.message,icon:"info"})})},async onViewGraphs(e){var t;await u((t=this.user)==null?void 0:t.user_refid,"QUEUES").then(async s=>{y("Check:",f(s)),s!=null&&s.success?(this.loading=!0,await A(e==null?void 0:e.topic_refid).then(async a=>{this.loading=!1,a.length>0?(S(),this.article=a[0],this.reset=m()):this.$toast.warning("No article found")})):g.fire({title:"Invalid Action",html:s==null?void 0:s.message,icon:"info"})})},async onViewStack(e){var t;await u((t=this.user)==null?void 0:t.user_refid,"LINKED_LIST").then(async s=>{y("Check:",f(s)),s!=null&&s.success?(this.loading=!0,await A(e==null?void 0:e.topic_refid).then(async a=>{this.loading=!1,a.length>0?(S(),this.article=a[0],this.reset=m()):this.$toast.warning("No article found")})):g.fire({title:"Invalid Action",html:s==null?void 0:s.message,icon:"info"})})},async onViewQueues(e){var t;await u((t=this.user)==null?void 0:t.user_refid,"STACKS").then(async s=>{y("Check:",f(s)),s!=null&&s.success?(this.loading=!0,await A(e==null?void 0:e.topic_refid).then(async a=>{this.loading=!1,a.length>0?(S(),this.article=a[0],this.reset=m()):this.$toast.warning("No article found")})):g.fire({title:"Invalid Action",html:s==null?void 0:s.message,icon:"info"})})},async isArticleGroupDoneLocal(){var e;await this.loadProgress(),this.reset_unlock=m(),await u((e=this.user)==null?void 0:e.user_refid,"ARRAYS").then(async t=>{var s;this.linked_list_locked=!(t!=null&&t.success),await u((s=this.user)==null?void 0:s.user_refid,"LINKED_LIST").then(async a=>{var n;this.list_stacks_locked=!(a!=null&&a.success),await u((n=this.user)==null?void 0:n.user_refid,"STACKS").then(async l=>{var i;this.list_queues_locked=!(l!=null&&l.success),await u((i=this.user)==null?void 0:i.user_refid,"QUEUES").then(async o=>{this.list_graphs_locked=!(o!=null&&o.success)})})})})},async loadProgress(){var l;await M((l=this.user)==null?void 0:l.user_refid).then(async i=>{this.articleRed=i});let e=0;this.array_list.forEach(i=>{this.articleRed.some(o=>(i==null?void 0:i.topic_refid)==(o==null?void 0:o.topic_refid))&&e++}),this.arrayProgressPercentage=this.array_list.length>0?Math.floor(e/this.array_list.length*100):0,this.arrayProgressPercentage===100&&!this.arrayCompletionAlertShown&&this.topic==="array"&&(this.showCompletionAlert("array"),this.arrayCompletionAlertShown=!0);let t=0;this.linked_list.forEach(i=>{this.articleRed.some(o=>(i==null?void 0:i.topic_refid)==(o==null?void 0:o.topic_refid))&&t++}),this.linkListProgressPercentage=this.linked_list.length>0?Math.floor(t/this.linked_list.length*100):0,this.linkListProgressPercentage===100&&!this.linkListCompletionAlertShown&&this.topic==="linked-list"&&(this.showCompletionAlert("linked-list"),this.linkListCompletionAlertShown=!0);let s=0;this.list_stacks.forEach(i=>{this.articleRed.some(o=>(i==null?void 0:i.topic_refid)==(o==null?void 0:o.topic_refid))&&s++}),this.stacksProgressPercentage=this.list_stacks.length>0?Math.floor(s/this.list_stacks.length*100):0,this.stacksProgressPercentage===100&&!this.stacksCompletionAlertShown&&this.topic==="stacks"&&(this.showCompletionAlert("stacks"),this.stacksCompletionAlertShown=!0);let a=0;this.list_queues.forEach(i=>{this.articleRed.some(o=>(i==null?void 0:i.topic_refid)==(o==null?void 0:o.topic_refid))&&a++}),this.queuesProgressPercentage=this.list_queues.length>0?Math.floor(a/this.list_queues.length*100):0,this.queuesProgressPercentage===100&&!this.queuesCompletionAlertShown&&this.topic==="queues"&&(this.showCompletionAlert("queues"),this.queuesCompletionAlertShown=!0);let n=0;this.list_graphs.forEach(i=>{this.articleRed.some(o=>(i==null?void 0:i.topic_refid)==(o==null?void 0:o.topic_refid))&&n++}),this.graphsProgressPercentage=this.list_graphs.length>0?Math.floor(n/this.list_graphs.length*100):0,this.graphsProgressPercentage===100&&!this.graphsCompletionAlertShown&&this.topic==="graphs"&&(this.showCompletionAlert("graphs"),this.graphsCompletionAlertShown=!0)},showCompletionAlert(e){let t="Congratulations!",s="";switch(e){case"array":s="You've completed the Array topic! Would you like to test your knowledge with some exercises?";break;case"linked-list":s="You've completed the Linked List topic! Would you like to test your knowledge with some exercises?";break;case"stacks":s="You've completed the Stacks topic! Would you like to test your knowledge with some exercises?";break;case"queues":s="You've completed the Queues topic! Would you like to test your knowledge with some exercises?";break;case"graphs":s="You've completed all Data Structure topics! Ready to test your knowledge with exercises?";break}g.fire({title:t,text:s,icon:"success",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"Yes, take me to exercises!",cancelButtonText:"No, continue reading"}).then(a=>{a.isConfirmed&&this.$router.push("/excercises")})}},async mounted(){var t;this.loading=!0;const e=await v();e!=null&&e.user_refid?(this.user=e,await q((t=this.user)==null?void 0:t.user_refid).then(async s=>{s!=null&&s.success||g.fire({title:"Invalid Action",html:s==null?void 0:s.message,icon:"info"}).then(()=>{this.$router.push("/readings")})})):this.$toast.warning("Login to log reading history."),await B().then(async s=>{this.array_list=f(s),await N().then(async a=>{this.linked_list=f(a),await G().then(async n=>{this.list_stacks=n,await H().then(async l=>{this.list_queues=l,await I().then(async i=>{this.list_graphs=i,await this.isArticleGroupDoneLocal().then(async()=>{this.loading=!1,y("Data:",this.$data)})})})})})}),e!=null&&e.user_refid&&await this.loadProgress()}}),W={class:"main"},j={class:"container mt-5 py-5"},z={class:"row mt-5"},J={class:"col-lg-4 col-md-5 col-12 mb-4"},O={key:0},X={key:1},Z={key:2},x={key:3},ee={key:4},se={class:"col-lg-8 col-md-7 col-12"},te={class:"text-dark mt-5"},ie=["innerHTML"],oe={key:1,class:"p-md-5 p-3 m-md-5 m-3"};function ae(e,t,s,a,n,l){var P,C;const i=p("SectionHeader"),o=p("ElemProgressbar"),w=p("ProgressBar"),_=p("CourseList"),L=p("SectionArticleHeader"),b=p("SectionFooter");return h(),d("div",null,[r(i),c("main",W,[c("div",j,[t[2]||(t[2]=c("h1",{class:"text-center mt-5"},"Data Structure",-1)),c("div",z,[c("div",J,[r(o,{loading:e.loading},null,8,["loading"]),e.topic=="array"?(h(),d("div",O,[r(w,{percentage:e.arrayProgressPercentage,height:40},null,8,["percentage"]),r(_,{title:"Array",articlesRead:e.articleRed,unlock:e.reset_unlock,btn_disabled:!1,list:e.array_list,onView:e.onView},null,8,["articlesRead","unlock","list","onView"])])):e.topic=="linked-list"?(h(),d("div",X,[r(w,{percentage:e.linkListProgressPercentage,height:40},null,8,["percentage"]),r(_,{title:"Linked List",articlesRead:e.articleRed,unlock:e.reset_unlock,btn_disabled:e.linked_list_locked,list:e.linked_list,onView:e.onViewLinkList},null,8,["articlesRead","unlock","btn_disabled","list","onView"])])):e.topic=="stacks"?(h(),d("div",Z,[r(w,{percentage:e.stacksProgressPercentage,height:40},null,8,["percentage"]),r(_,{title:"Stacks",articlesRead:e.articleRed,unlock:e.reset_unlock,btn_disabled:e.list_stacks_locked,list:e.list_stacks,onView:e.onViewStack},null,8,["articlesRead","unlock","btn_disabled","list","onView"])])):e.topic=="queues"?(h(),d("div",x,[r(w,{percentage:e.queuesProgressPercentage,height:40},null,8,["percentage"]),r(_,{title:"Queues",articlesRead:e.articleRed,unlock:e.reset_unlock,btn_disabled:e.list_queues_locked,list:e.list_queues,onView:e.onViewQueues},null,8,["articlesRead","unlock","btn_disabled","list","onView"])])):e.topic=="graphs"?(h(),d("div",ee,[r(w,{percentage:e.graphsProgressPercentage,height:40},null,8,["percentage"]),r(_,{title:"Graphs",articlesRead:e.articleRed,unlock:e.reset_unlock,btn_disabled:e.list_graphs_locked,list:e.list_graphs,onView:e.onViewGraphs},null,8,["articlesRead","unlock","btn_disabled","list","onView"])])):T("",!0)]),c("div",se,[r(L,{article:e.article,user:e.user,reset:e.reset,onCompleted:t[0]||(t[0]=re=>e.isArticleGroupDoneLocal())},null,8,["article","user","reset"]),c("div",te,[(P=e.article)!=null&&P.content?(h(),d("div",{key:0,innerHTML:(C=e.article)==null?void 0:C.content},null,8,ie)):(h(),d("div",oe,t[1]||(t[1]=[D('<div class="card"><div class="card-body"><h3 class="text-center p-md-5 p-3" style="color:#a9a0a0;" id="selectreading">Select reading material to start</h3><div class="d-flex justify-content-center pb-md-5 pb-3"><svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="#a9a0a0" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5z"></path></svg></div></div></div>',1)])))])])])])]),r(b)])}const Ce=E(F,[["render",ae]]);export{Ce as default};
