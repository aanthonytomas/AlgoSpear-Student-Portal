import{d as H,p as D,S as m,q as d,t as p,_ as L,c as n,e as a,a as o,f as r,k as _,b as R,o as l}from"./index-DvlkE_cf.js";import{S as T,f as w,s as y}from"./SectionArticleHeader-DrMefAP2.js";import{a as $,i as S}from"./check-nSgYt6KK.js";import{r as v}from"./delete-zH-ECF1r.js";import{P as B,b as C,c as N,a as G}from"./ProgressBar-BbTySam7.js";import{r as c}from"./randomNumber-C27Mv2PT.js";import{S as k,a as E}from"./SectionFooter-TeUX6E9y.js";import{C as I}from"./Courses-BnC6e1Gt.js";import{E as M}from"./ElemProgressbar-Br5UniB-.js";import"./config-Cif4XynF.js";import"./fetchSingle-ri2_cx6-.js";import"./format-CV38ky4f.js";import"./count-Bbc1EGQ3.js";import"./insertGetID-BzXFYlxR.js";import"./timer-OaxQmgbO.js";import"./url-vEo-O14B.js";import"./fetchAll-DAI-j9T7.js";const F=H({components:{SectionArticleHeader:T,ElemProgressbar:M,CourseList:I,SectionFooter:E,SectionHeader:k,ProgressBar:B},setup(){return{randomNumbers:c}},data(){return{reset:0,reset_unlock:0,timeDisplay:{},timeMax:0,loading:!1,user:{},article:{},list_sorting:[],list_search:[],list_search_locked:!0,articleRed:[],sortingProgress:0,searchingProgress:0,topic:this.$route.params.topic}},methods:{async resetSortingReadingTime(){var t;await v({user_refid:(t=this.user)==null?void 0:t.user_refid,group_code:"SORTING"}).then(async s=>{s!=null&&s.success&&window.location.reload()})},async resetSearchReadingTime(){var t;await v({user_refid:(t=this.user)==null?void 0:t.user_refid,group_code:"SEARCH"}).then(async s=>{s!=null&&s.success&&window.location.reload()})},async onViewSorting(t){this.loading=!0,await w(t==null?void 0:t.topic_refid).then(async s=>{this.loading=!1,s.length>0?(y(),this.article=s[0],this.reset=c()):this.$toast.warning("No article found")})},async onViewSearching(t){var s;await S((s=this.user)==null?void 0:s.user_refid,"SORTING").then(async i=>{d("Check:",p(i)),i!=null&&i.success?(this.loading=!0,await w(t==null?void 0:t.topic_refid).then(async e=>{this.loading=!1,e.length>0?(y(),this.article=e[0],this.reset=c()):this.$toast.warning("No article found")})):m.fire({title:"Invalid Action",html:i==null?void 0:i.message,icon:"info"})})},async isArticleGroupDoneLocal(){var t;await this.loadProgress(),await S((t=this.user)==null?void 0:t.user_refid,"SORTING").then(async s=>{d("Done Sorting:",p(s)),this.list_search_locked=!(s!=null&&s.success),this.reset_unlock=c()})},async loadProgress(){var t;if(await G((t=this.user)==null?void 0:t.user_refid).then(async s=>{this.articleRed=s}),this.topic=="sorting"){let s=0;this.list_sorting.forEach(i=>{this.articleRed.some(e=>(i==null?void 0:i.topic_refid)==(e==null?void 0:e.topic_refid))&&s++}),this.sortingProgress=Math.floor(s/this.list_sorting.length*100)}else if(this.topic=="searching"){let s=0;this.list_search.forEach(i=>{this.articleRed.some(e=>(i==null?void 0:i.topic_refid)==(e==null?void 0:e.topic_refid))&&s++}),this.searchingProgress=Math.floor(s/this.list_search.length*100)}}},async mounted(){var s;this.loading=!0;const t=await D();t!=null&&t.user_refid?(this.user=t,await $((s=this.user)==null?void 0:s.user_refid).then(async i=>{i!=null&&i.success||(this.$router.push("/readings"),m.fire({title:"Invalid Action",html:i==null?void 0:i.message,icon:"info"}))})):this.$toast.warning("Login to log reading history."),this.topic=="sorting"?await C().then(async i=>{this.list_sorting=i}):this.topic=="searching"&&await N().then(async i=>{this.list_search=i}),await this.loadProgress(),await this.isArticleGroupDoneLocal().then(async()=>{this.loading=!1,d("Data:",this.$data)})}}),O={class:"main"},j={class:"container mt-5 py-5"},q={class:"row mt-5"},z={class:"col-lg-4 col-md-5 col-12 mb-4"},U={class:"sticky-sidebar"},J={key:0},K={key:1},Q={class:"col-lg-8 col-md-7 col-12"},W={class:"text-dark mt-5"},X=["innerHTML"],Y={key:1,class:"p-md-5 p-3 m-md-5 m-3"};function Z(t,s,i,e,x,tt){var f,u;const b=r("SectionHeader"),A=r("ElemProgressbar"),h=r("ProgressBar"),g=r("CourseList"),P=r("SectionArticleHeader"),V=r("SectionFooter");return l(),n("div",null,[a(b),o("main",O,[o("div",j,[s[2]||(s[2]=o("h1",{class:"text-center mt-5"},"Algorithms",-1)),o("div",q,[o("div",z,[o("div",U,[a(A,{loading:t.loading},null,8,["loading"]),t.topic=="sorting"?(l(),n("div",J,[a(h,{height:40,percentage:t.sortingProgress},null,8,["percentage"]),a(g,{title:"Sorting",unlock:t.reset_unlock,btn_disabled:!1,list:t.list_sorting,articlesRead:t.articleRed,onView:t.onViewSorting},null,8,["unlock","list","articlesRead","onView"])])):_("",!0),t.topic=="searching"?(l(),n("div",K,[a(h,{height:40,percentage:t.searchingProgress},null,8,["percentage"]),a(g,{title:"Searching",unlock:t.reset_unlock,btn_disabled:t.list_search_locked,list:t.list_search,articlesRead:t.articleRed,onView:t.onViewSearching},null,8,["unlock","btn_disabled","list","articlesRead","onView"])])):_("",!0)])]),o("div",Q,[a(P,{article:t.article,user:t.user,reset:t.reset,onCompleted:s[0]||(s[0]=st=>t.isArticleGroupDoneLocal())},null,8,["article","user","reset"]),o("div",W,[(f=t.article)!=null&&f.content?(l(),n("div",{key:0,innerHTML:(u=t.article)==null?void 0:u.content},null,8,X)):(l(),n("div",Y,s[1]||(s[1]=[R('<div class="card" data-v-130986f7><div class="card-body" data-v-130986f7><h3 class="text-center p-md-5 p-3" style="color:#a9a0a0;" id="selectreading" data-v-130986f7>Select reading material to start</h3><div class="d-flex justify-content-center pb-md-5 pb-3" data-v-130986f7><svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="#a9a0a0" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16" data-v-130986f7><path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5z" data-v-130986f7></path></svg></div></div></div>',1)])))])])])])]),a(V)])}const yt=L(F,[["render",Z],["__scopeId","data-v-130986f7"]]);export{yt as default};
